{% include "admin_user/headertags.html" %}

{% load static %}
<link href="{% static 'admin_user/css/gradient.css' %}" rel="stylesheet">
    <div class="wrapper grass-bg">
        {% include "admin_user/menu_side.html" %}


        <div id="content" class="bg-form-page">
            {% include "admin_user/menu_top.html" %}



            <div class="container-fluid py-4 px-3">
                <form method="POST" class="row g-3">
                    <div class="card px-0 border-0">
                        <div class="card-header rounded-0 border-0 box-bg text-white">
                            Match Entry Form
                        </div>
                        <div class="card-body box-gradient border-white">
                            {% csrf_token %}
                            <div class="alert text-dark">
                                <div class="row mt-4 p-2 mx-2 alert box-bg">
                                    <div class="col-lg-2 col-sm-12 ">
                                        <label for="match_type" class="form-label">Match Type</label>
                                        <select name="match_type" id="match_type" class="form-select" onchange="toggleFields()">
                                            <option value="">Select Match Type</option>
                                            <option value="Multidays">Multidays</option>
                                            <option value="One Day">One Day</option>
                                            <option value="T20">T20</option>
                                        </select>
                                    </div>

                                    <div class="col-lg-4 col-sm-12">
                                        <label for="name_tournament" class="form-label">Name of Tournament</label>
                                        <input type="text" name="name_tournament" value="{{match.2}}" placeholder="Tournament Name" class="form-control" id="name_tournament">
                                    </div>

                                    <div class="col-lg-3 col-sm-12">
                                        <label id="ground_id_label" class="bg-dark text-white px-3 py-1">Ground Id: {{match.12}}</label>
                                        <input type="hidden" name="ground_id_text" id="ground_id_text" value="{{match.12}}" />
                                        <br>
                                        <label for="ground_id" class="form-label">Select Ground:</label>
                                        <select id="ground_id" name="ground_id" class="form-control"></select>
                                    </div>

                                    <div class="col-lg-3 col-sm-12">
                                        <label id="pitch_id_label" class="bg-dark text-white px-3 py-1"></label>
                                        <input type="hidden" name="pitch_id_text" id="pitch_id_text" value="{{match.11}}" />
                                        <br>
                                        <label for="pitch_id" class="form-label">Select Pitch:</label>
                                        <select id="pitch_id" name="pitch_id" class="form-control"></select>
                                    </div>
                                </div>
                                <div class="row mt-4">

                                    <div class="col-lg-6 col-sm-12">
                                        <div class="row p-2 mx-2 alert box-bg">
                                            <h3>Teams</h3>
                                            <hr>
                                            <div class="col-lg-12 col-sm-12">
                                                <label for="team1" class="form-label">Team 1</label>
                                                <input type="text" name="team1" value="{{match.3}}" class="form-control" placeholder="Team Name" id="team1">
                                            </div>

                                            <div class="col-md-12">
                                                <label for="team2" class="form-label">Team 2</label>
                                                <input type="text" name="team2" value="{{match.4}}" class="form-control" placeholder="Team Name" id="team2">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-sm-12">
                                        <div class="row p-2 mx-2 alert box-bg">
                                            <h3>Dates</h3>
                                            <hr>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="preparation_date" class="form-label">Preparation Date</label>
                                                <input type="date" onchange="getWeather(this)" name="preparation_date" class="form-control" id="preparation_date" value="{{match.5}}">
                                            </div>
                                            <div class="col-lg-6 col-sm-12" id="match-date-div">
                                                <label for="match_date" class="form-label">Match Date</label>
                                                <input type="date" name="match_date" class="form-control" id="match_date" value="{{match.6}}" {%if match.1 == 'Multidays' %}disabled{%endif%}>
                                            </div>

                                            <div class="col-lg-6 col-sm-12" id="from-date-div">
                                                <label for="from_date" class="form-label">From Date</label>
                                                <input type="date" name="from_date" value="{{match.7}}" class="form-control" id="from_date" {%if match.1 == 'One Day' or match.1 == 'T20' %}disabled{%endif%}>
                                            </div>

                                            <div class="col-lg-6 col-sm-12" id="to-date-div">
                                                <label for="to_date" class="form-label">To Date</label>
                                                <input type="date" name="to_date" value="{{match.8}}" class="form-control" id="to_date" {%if match.1 == 'One Day' or match.1 == 'T20' %}disabled{%endif%}>
                                            </div>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="days_count" class="form-label">Days Count</label>
                                                <input type="number" name="days_count" readonly class="form-control" placeholder="Total days" id="days_count" value="{{match.9}}">
                                            </div>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="start_time" class="form-label">Match Start Time</label>
                                                <input type="time" name="start_time" class="form-control" id="start_time" value="{{match.10}}">
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <div class="row mt-4">
                                    <div class="col-lg-6 col-sm-12 ">
                                        <div class="row p-2 mx-2 alert box-bg">
                                            <h3>Forecast</h3>
                                            <hr>
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="col">
                                                        <label for="min_temp" class="form-label">Minimum Temprature °C</label>
                                                        <input type="text" id="min_temp" placeholder="Minimum Temprature" name="min_temp" class="form-control" value="{{match.16}}">
                                                    </div>
                                                    <div class="col">
                                                        <label for="max_temp" class="form-label">Maximum Temprature °C</label>
                                                        <input type="text" placeholder="Maximum Temprature" id="max_temp" name="max_temp" value="{{match.17}}" class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <label for="forecast" class="form-label">Forecast Prediction Available:</label>
                                                    <textarea id="forecast" name="forecast" placeholder="Forecast Prediction Available" class="form-control">{{match.18}}</textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-sm-12">
                                        <div class="row p-2 mx-2 alert box-bg">
                                            <h3>Ground Levels</h3>
                                            <hr>
                                            <div class="col-lg-6 mt-4 col-sm-12 form-check">
                                                <input type="checkbox" name="is_pitch_level" class="form-check-input" id="is_pitch_level" {% if match.13 == "1" %}checked{% endif %}>
                                                <label for="is_pitch_level" class="form-check-label">Is Pitch Level?</label>
                                            </div>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="lawn_height" class="form-label">Lawn Height (mm)</label>
                                                <input type="number" name="lawn_height" value="{{match.14}}" step="0.01" class="form-control" placeholder="Lawn Height" id="lawn_height">
                                            </div>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="grass_cover" class="form-label">Grass Cover</label>
                                                <select name="grass_cover" class="form-select" id="grass_cover">
                                                    <option value="uniform">Uniform</option>
                                                    <option value="partially">Partially</option>
                                                    <option value="little/no grass">Little/No Grass</option>
                                                </select>
                                            </div>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="moisture_upto" class="form-label">Moisture Upto (inches)</label>
                                                <input type="number" name="moisture_upto" value="{{match.19}}" step="0.01" class="form-control" placeholder="Moisture Upto" id="moisture_upto">
                                            </div>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="dew_factor" class="form-label">Dew Factor</label>
                                                <input type="text" name="dew_factor" value="{{match.20}}" class="form-control" placeholder="Dew Factor" id="dew_factor">
                                            </div>
                                            <div class="col-lg-6 col-sm-12">
                                                <label for="access_bounce" class="form-label">Access Bounce/Clagg Hammer</label>
                                                <input type="text" name="access_bounce" value="{{match.21}}" class="form-control" placeholder="Access Bounce" id="access_bounce">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-sm-12 p-2 mx-2 alert box-bg" id="match-date-div">
                                        <label for="nuteral_curator" class="form-label">Nuteral Curator</label>
                                        <input type="text" name="nuteral_curator" value="{{match.63}}" class="form-control" id="nuteral_curator">
                                    </div>
                                </div>
                            </div>
                            <hr class="mt-5 bg-info p-1">

                            <ul class="nav nav-pills rounded-top box-bg" style="margin-top: 0;margin-left: 0;" id="mytab" role="tablist">
                                <li class="nav-item fs-4" role="presentation">
                                    <button class="nav-link custom1 active" id="pitch-pill-tab" data-bs-toggle="pill" data-bs-target="#pitch-pill" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">
                                        <b>Pitch Entry</b>
                                    </button>
                                </li>
                                <li class="nav-item fs-4" role="presentation">
                                    <button class="nav-link custom2" id="profile-tab" data-bs-toggle="pill" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">
                                        <u><b>Outfield Entry</b></u>
                                    </button>
                                </li>
                            </ul>
                            
                            <div class="tab-content mt-0 pb-4 rounded-bottom border-white" id="my-tabContent">

                                <div class="tab-pane fade show active" id="pitch-pill" role="tabpanel" aria-labelledby="home-tab" tabindex="0">

                                    <!-- <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert box-bg" style="border:1px solid black;">
                                        <div class="row">
                                            <div class="col-lg-12 col-sm-12">
                                                <legend class="w-auto px-2">Watering</legend>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-lg-4 col-sm-12">
                                                        <label for="last_watering_on" class="form-label ">Watering On:</label>
                                                        <input type="date" id="last_watering_on" name="last_watering_on" value="{{match.25}}" class="form-control">
                                                    </div>
                                                    <div class="col-lg-4 col-sm-12">
                                                        <label for="time_of_application" class="form-label ">Time of Watering:</label>
                                                        <input type="time" id="time_of_application" name="time_of_application" value="{{match.27 }}" class="form-control">
                                                    </div>
                                                    <div class="col-lg-4 col-sm-12">
                                                        <label for="quantity_of_water" class="form-label ">Quantity of Water:</label>
                                                        <input type="text" id="quantity_of_water" name="quantity_of_water" value="{{match.26}}" class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert box-bg" style="border:1px solid black;">
                                        <div class="row">
                                            <div class="col-sm-12 col-lg-12">
                                                <legend class="w-auto px-2">Rolling</legend>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-sm-12 col-lg-3">
                                                        <label for="roller_machine_type" class="form-label">Select Machine Type</label>
                                                        <select class="form-select" id="roller_machine_type" name="roller_machine_type">
                                                            <option selected>Select Type</option>
                                                            <option value="passes">Maunal</option>
                                                            <option value="time">Machenized</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-12 col-lg-3">
                                                        <div class="row">
                                                            <div class="col">
                                                                <label for="machinery_id" class="form-label">Select Roller</label>
                                                                <input type="hidden" name="machinery_id" id="machinery_id" value="{{match.22}}">
                                                                <input type="text" name="machinery_name" id="machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col">
                                                                <button type="button" class="btn btn-dark mt-2 p-2 align-self-end" style="font-size:50%" onclick="openMachineryModal('roller')">Select Machinery</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 col-lg-2">
                                                        <label for="passes_unit" class="form-label">Select Unit:</label>
                                                        <select class="form-select" id="passes_unit" name="passes_unit">
                                                            <option selected>Select Unit</option>
                                                            <option value="passes">Passes</option>
                                                            <option value="time">Time</option>
                                                            <option value="hours">Hours</option>
                                                            <option value="minutes">Minutes</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-12 col-lg-2">
                                                        <label for="no_of_passes" class="form-label">Number of Passes:</label>
                                                        <input type="text" id="no_of_passes" name="no_of_passes" value="{{match.23}}" class="form-control">
                                                    </div>
                                                    <div class="col-sm-12 col-lg-3">
                                                        <label for="roller_machinery_name_operator" class="form-label">Operator Name:</label>
                                                        <input type="text" name="roller_machinery_name_operator" id="roller_machinery_name_operator" class="form-control">
                                                    </div>
                                                    <div class="col-sm-12 col-lg-3">
                                                        <label for="time_of_application" class="form-label">Time of Rolling:</label>
                                                        <input type="time" id="time_roller" name="time_roller" value="{{match.28}}" class="form-control">
                                                    </div>
                                                    <div class="col-sm-12 col-lg-3">
                                                        <label for="rolling_speed" class="form-label">Rolling Speed (km/hour):</label>
                                                        <input type="text" value="{{match.24}}" id="rolling_speed" name="rolling_speed" class="form-control">
                                                    </div>
                                                    <div class="mt-4 mb-0 col text-end">
                                                        <button type="button" class="btn btn-primary" style="font-size: 70%;" onclick="addRollingEntry()">Add Rolling Entry</button>
                                                    </div>
                                                    <div class="col-sm-12 col-lg-12 mt-5">
                                                        <div class="accordion" id="rolling-entries-accordion">
                                                            <div class="accordion-item">
                                                                <h2 class="accordion-header">
                                                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne-rolling" aria-expanded="true" aria-controls="collapseOne-rolling">
                                                                        <h5 class="">Rolling Entries</h5> <span id="rolling-count"></span>
                                                                    </button>
                                                                </h2>
                                                                <div id="collapseOne-rolling" class="accordion-collapse collapse" data-bs-parent="#rolling-entries-accordion">
                                                                    <div class="accordion-body">
                                                                        <table class="table table-bordered" style="font-size: 70%;" id="rollingTable">
                                                                            <thead class="table-dark">
                                                                                <tr>
                                                                                    <th>Machine Type</th>
                                                                                    <th>Machinery</th>
                                                                                    <th>Operator</th>
                                                                                    <th>Speed</th>
                                                                                    <th>Passes</th>
                                                                                    <th>Unit</th>
                                                                                    <th>Time</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody></tbody>
                                                                        </table>
                                                                        <input type="hidden" name="rolling_entries_json" id="rolling_entries_json">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert box-bg">
                                        <legend class="w-auto px-2">Mower Entries</legend>
                                        <hr>
                                        <div class="row mt-4">
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="mover_machine_type" class="form-label">Select Machine Type</label>
                                                <select class="form-select" id="mover_machine_type" name="mover_machine_type">
                                                    <option selected>Select Type</option>
                                                    <option value="passes">Maunal</option>
                                                    <option value="time">Machenized</option>
                                                </select>
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <div class="row">
                                                    <div class="col">
                                                        <label for="mover_machinery_id" class="form-label">Select Machinery/Mover</label>
                                                        <input type="hidden" name="mover_machinery_id" id="mover_machinery_id" value="{{match.30}}">
                                                        <input type="text" name="mover_machinery_name" id="mover_machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <button type="button" class="btn btn-dark mt-2 align-self-end" style="font-size:70%" onclick="openMachineryModal('mover')">Select Machinery</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="date_mowing_done_last" class="form-label">Last Mowing Date:</label>
                                                <input type="date" id="date_mowing_done_last" name="date_mowing_done_last" class="form-control" value="{{match.31}}">
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="time_of_application_mover" class="form-label">Time of Application Mover:</label>
                                                <input type="time" id="time_of_application_mover" name="time_of_application_mover" class="form-control" value="{{match.32}}">
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="mowing_done_at_mm" class="form-label">Mowing Height (mm):</label>
                                                <input type="number" id="mowing_done_at_mm" name="mowing_done_at_mm" class="form-control" value="{{match.33}}">
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="moving_passes_unit" class="form-label">Select Unit:</label>
                                                <select class="form-select" id="moving_passes_unit" name="moving_passes_unit">
                                                    <option selected>Select Unit</option>
                                                    <option value="time">Time</option>
                                                    <option value="hours">Hours</option>
                                                    <option value="minutes">Minutes</option>
                                                </select>
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="mowing_duration" class="form-label">Mowing Duration :</label>
                                                <input type="number" id="mowing_duration" name="mowing_duration" class="form-control">
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="mover_machinery_name_operator" class="form-label">Operator Name:</label>
                                                <input type="text" name="mover_machinery_name_operator" id="mover_machinery_name_operator" class="form-control">
                                            </div>
                                            <div class="mt-4 mb-0 text-end col-lg-3 col-sm-12">
                                                <button type="button" style="font-size: 70%;" class="btn btn-primary" onclick="addMoverEntry()">Add Mover Entry</button>
                                            </div>
                                            <div class="col-lg-12 col-sm-12 mt-4">
                                                <div class="accordion" id="mover-entries-accordion">
                                                    <div class="accordion-item">
                                                        <h2 class="accordion-header">
                                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne-moving" aria-expanded="true" aria-controls="collapseOne-moving">
                                                                <h5 class="">Mower Entries</h5> <span id="mover-count"></span>
                                                            </button>
                                                        </h2>
                                                        <div id="collapseOne-moving" class="accordion-collapse collapse" data-bs-parent="#mover-entries-accordion">
                                                            <div class="accordion-body">
                                                                <table class="table table-bordered" id="moverTable">
                                                                    <thead class="table-dark">
                                                                        <tr>
                                                                            <th>Machine Type</th>
                                                                            <th>Machinery</th>
                                                                            <th>Operator</th>
                                                                            <th>Height (mm)</th>
                                                                            <th>Duration</th>
                                                                            <th>Unit</th>
                                                                            <th>Time</th>
                                                                            <th>Date</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody></tbody>
                                                                </table>
                                                                <input type="hidden" name="mover_entries_json" id="mover_entries_json">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert box-bg">
                                        <fieldset>
                                            <legend class="w-auto px-2">Chemical Entries</legend>
                                            <hr>
                                            <div class="row mt-3">
                                                <div class="col-lg-2 col-sm-12">
                                                    <div class="input-group mb-3 mt-4 rounded ">
                                                        <div class="input-group-text border-0">
                                                            <input class="form-check-input border-left" type="checkbox" aria-label="Checkbox for following text input" {% if match.34 == "1" %}checked{% endif %} name="is_fertilizers_used" id="is_fertilizers_used">
                                                        </div>
                                                        <input type="text" class="form-control border-0 p-0 mt-0" value="Is Fertilizers Used" style="background-color: transparent;" readonly aria-label="Text input with checkbox">
                                                    </div>
                                                </div>
                                                <div class="col-lg-2 col-sm-12">
                                                    <label for="fertilizers_details" class="form-label">Chemical Details:</label>
                                                    <select id="fertilizers_details" name="fertilizers_details" class="form-control">
                                                        <option value="">Select Any Chemical</option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-2 col-sm-12">
                                                    <label for="time_of_application_chemical" class="form-label">Time:</label>
                                                    <input type="time" id="time_of_application_chemical" name="time_of_application_chemical" class="form-control" value="{{match.55}}">
                                                </div>
                                                <div class="col-lg-2 col-sm-12">
                                                    <label for="chemical_weight" class="form-label">Weight:</label>
                                                    <input type="text" id="chemical_weight" placeholder="Weight" name="chemical_weight" class="form-control" value="{{match.59}}">
                                                </div>
                                                <div class="col-lg-2 col-sm-12">
                                                    <label for="fertilizers_unit" class="form-label">Unit:</label>
                                                    <select id="fertilizers_unit" name="fertilizers_unit" class="form-control">
                                                        <option value="">Select Any Unit</option>
                                                        <option value="kg">KG</option>
                                                        <option value="gm">GM</option>
                                                        <option value="ltr">Liters</option>
                                                        <option value="ml">Milli Liters</option>
                                                        <option value="NA">NA</option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-5 col-sm-12">
                                                    <label for="chemical_details_remark" class="form-label">Remarks:</label>
                                                    <textarea id="chemical_details_remark" placeholder="Remarks" name="chemical_details_remark" class="form-control">{{match.36}}</textarea>
                                                </div>
                                                <div class="text-end col-lg-2 col-sm-12">
                                                    <button type="button" style="font-size: 70%;" class="btn mt-5 btn-sm btn-primary" id="addChemicalBtn">Add Chemical Entry</button>
                                                </div>
                                            </div>
                                        </fieldset>

                                        <div class="col-lg-12 col-sm-12 mt-4">
                                            <div class="accordion" id="chemical-entries-accordion">
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header">
                                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne-chemical" aria-expanded="true" aria-controls="collapseOne-chemical">
                                                            <h5 class="">Chemical Entries</h5> <span id="chemical-count"></span>
                                                        </button>
                                                    </h2>
                                                    <div id="collapseOne-chemical" class="accordion-collapse collapse" data-bs-parent="#chemical-entries-accordion">
                                                        <div class="accordion-body">
                                                            <table class="table table-bordered mt-3" id="chemicalTable">
                                                                <thead class="table-dark">
                                                                    <tr>
                                                                        <th>Used</th>
                                                                        <th>Time</th>
                                                                        <th>Chemical</th>
                                                                        <th>Weight</th>
                                                                        <th>Unit</th>
                                                                        <th>Remark</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody></tbody>
                                                            </table>
                                                            <input type="hidden" name="chemical_entries" id="chemical_entries">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row alert box-bg mx-1">
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="remark_by_groundsman" class="form-label">Remark by Groundsman:</label>
                                            <textarea id="remark_by_groundsman" placeholder="Remarks" name="remark_by_groundsman" class="form-control">{{match.37}}</textarea>
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-success my-3" id="add-pitch-entry" onclick="addPitchEntryRow()" style="font-size: 70%;">Add Pitch Entry</button>
                                    <div class="accordion" id="pitch-all-entries-accordion">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header pitch-all-header">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne-pitch-all" aria-expanded="true" aria-controls="collapseOne-pitch-all">
                                                    <h5 class="">All Pitch Entries</h5> <span id="pitch-all-count"></span>
                                                </button>
                                            </h2>
                                            <div id="collapseOne-pitch-all" class="accordion-collapse collapse" data-bs-parent="#pitch-all-entries-accordion">
                                                <div class="accordion-body">
                                                    <div id="pitchEntryContainer" style="font-size: 70%;"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
                                
                                
                                   <div class="form-group daily-form mt-4 text-dark p-3 box-bg rounded">
                                            <legend class="w-auto px-2">Main Pitch Entries</legend>

                                            <div class="row">
                                                <div class="col-sm-12 col-lg-12">
                                                    <fieldset class="form-group border mt-4 text-dark p-3 box-bg rounded">
                                                        <legend class="w-auto px-2">Watering</legend>
                                                        <div class="row">
                                                            <div class="col-sm-12 col-lg-4">
                                                                <label for="last_watering_on" class="form-label">Watering On:</label>
                                                                <input type="date" id="last_watering_on" name="last_watering_on" class="form-control">
                                                            </div>
                                                            <div class="col-sm-12 col-lg-4">
                                                                <label for="time_of_application" class="form-label">Time of Watering:</label>
                                                                <div class="d-flex align-items-center justify-content-center">
                                                                    <input type="time" id="time_of_application" name="time_of_application"  class="form-control">
                                                                    <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-4">
                                                                <label for="quantity_of_water" class="form-label">Quantity of Water:</label>
                                                                <input type="text" id="quantity_of_water" name="quantity_of_water" class="form-control">
                                                            </div>
                                                            <div class="col-sm-12 col-lg-4">
                                                               
                                                                <button type="button" class="btn btn-primary my-4"
                                                                      onclick="addWateringEntry()">Add Watering
                                                                      Entry</button>
                                                            </div>
                                                        </div>
                                                              <div class="col-sm-12 col-lg-12">
                                                                <details>
                                                                    <summary>Watering Entries</summary>
                                                                      <div class="table-responsive transparent-bg">
                                                                    <table class="table table-bordered mt-2"
                                                                        id="wateringTable">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                <th>Watering On</th>
                                                                                <th>Time of Watering</th>
                                                                                <th>Quantity of Water</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>

                                                                    <input type="hidden" name="watering_entries_json"
                                                                        id="watering_entries_json">
                                                                      </div>
                                                                </details>


                                                            </div>
                                                    </fieldset>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-sm-12 col-lg-12">
                                                    <fieldset class="form-group border mt-4 text-dark p-3 box-bg rounded">
                                                        <legend class="w-auto px-2">Rolling</legend>
                                                        <div class="row">
                                                            <div class="col-sm-12 col-lg-2">
                                                                <label for="roller_machine_type" class="form-label">Select Machine Type</label>
                                                                <select class="form-select" id="roller_machine_type" name="roller_machine_type">
                                                                    <option selected>Select Type</option>
                                                                    <option value="Manual">Manual</option>
                                                                    <option value="Mechanized">Mechanized</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3 mt-4">
                                                                <input type="hidden" name="machinery_id" id="machinery_id">
                                                                 <div class="input-group">
                                                                <input type="text" name="machinery_name" id="machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                                                 <span class="input-group-text bg-light" onclick="realoadMachineryList(event)">
                                                                  <i class="bi bi-arrow-clockwise text-danger"></i>
                                                                </span>
                                                                </div>
                                                                <button type="button" class="btn btn-warning align-self-end" style="font-size:70%" onclick="openMachineryModal('roller')">Select Machinery</button>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3">
                                                                <label for="roller_machinery_name_operator" class="form-label">Operator Name:</label>
                                                                <input type="text" name="roller_machinery_name_operator" id="roller_machinery_name_operator" class="form-control">
                                                            </div>
                                                               <div class="col-sm-12 col-lg-3">
                                                    <label for="rolling_date"
                                                        class="form-label">Date:</label>
                                                    <input type="date" name="rolling_date"
                                                        id="rolling_date" class="form-control">

                                                </div>
                                                            <div class="col-sm-12 col-lg-2">
                                                                <label for="time_roller" class="form-label">Time of Rolling:</label>
                                                                <div class="d-flex align-items-center justify-content-center">
                                                                    <input type="time" id="time_roller" name="time_roller" class="form-control">
                                                                    <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-2">
                                                                <label for="rolling_speed" class="form-label">Rolling Type:</label>
                                                                <input type="text" id="rolling_speed" name="rolling_speed" class="form-control">
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3 mt-4">
                                                                <label for="passes_unit" class="form-label">Select Unit:</label>
                                                                <select class="form-select" id="passes_unit" name="passes_unit">
                                                                    <option selected>Select Unit</option>
                                                                    <option value="passes">Passes</option>
                                                                    <option value="time">Time</option>
                                                                    <option value="hours">Hours</option>
                                                                    <option value="minutes">Minutes</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-4 mt-4">
                                                                <label for="no_of_passes" class="form-label">Number of Passes:</label>
                                                                <input type="number" id="no_of_passes" name="no_of_passes" class="form-control">
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3 mt-5">
                                                                <button type="button" class="btn btn-primary" onclick="addRollingEntry()">Add Rolling Entry</button>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-12">
                                                                <details>
                                                                    <summary>Rolling Entries</summary>
                                                                    <div class="table-responsive transparent-bg">

                                                                    <table class="table table-bordered mt-2" id="rollingTable">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                 <th>Date</th>
                                                                                <th>Machine Type</th>
                                                                                <th>Machinery</th>
                                                                                <th>Operator</th>
                                                                                <th>Speed</th>
                                                                                <th>Passes</th>
                                                                                <th>Unit</th>
                                                                                <th>Time</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>
                                                                    <input type="hidden" name="rolling_entries_json" id="rolling_entries_json">
                                                                    </div>
                                                                </details>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-sm-12 col-lg-12">
                                                    <fieldset class="form-group border mt-4 text-dark p-3 box-bg rounded">
                                                        <legend class="w-auto px-2">Mower</legend>
                                                        <div class="row">
                                                            <div class="col-lg-3 col-sm-12">
                                                                <label for="mover_machine_type" class="form-label">Select Machine Type</label>
                                                                <select class="form-select" id="mover_machine_type" name="mover_machine_type">
                                                                    <option selected>Select Type</option>
                                                                    <option value="Manual">Manual</option>
                                                                    <option value="Mechanized">Mechanized</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-lg-4 col-sm-12">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <label class="form-label">Select Machinery/Mower</label>
                                                                        <input type="hidden" name="mover_machinery_id" id="mover_machinery_id">
                                                                          <div class="input-group">
                                                                        <input type="text" name="mover_machinery_name" id="mover_machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                                                         <span class="input-group-text bg-light" onclick="realoadMachineryList(event)">
                                                                  <i class="bi bi-arrow-clockwise text-danger"></i>
                                                                </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg-12 d-flex">
                                                                        <button type="button" class="btn btn-dark mt-2 align-self-end" style="font-size:70%" onclick="openMachineryModal('mover')">Select Machinery</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-3 col-sm-12">
                                                                <label for="mover_machinery_name_operator" class="form-label">Operator Name:</label>
                                                                <input type="text" name="mover_machinery_name_operator" id="mover_machinery_name_operator" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12">
                                                                <label for="date_mowing_done_last" class="form-label">Last Mowing Date:</label>
                                                                <input type="date" id="date_mowing_done_last" name="date_mowing_done_last" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="time_of_application_mover" class="form-label">Time of Application Mower:</label>
                                                                <div class="d-flex align-items-center justify-content-center">
                                                                    <input type="time" id="time_of_application_mover" name="time_of_application_mover" class="form-control">
                                                                    <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="mowing_done_at_mm" class="form-label">Mowing Height (mm):</label>
                                                                <input type="number" id="mowing_done_at_mm" name="mowing_done_at_mm" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="moving_passes_unit" class="form-label">Unit:</label>
                                                                <select class="form-select" id="moving_passes_unit" name="moving_passes_unit">
                                                                    <option selected>Select Unit</option>
                                                                    <option value="time">Time</option>
                                                                    <option value="hours">Hours</option>
                                                                    <option value="minutes">Minutes</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="mowing_duration" class="form-label">Duration</label>
                                                                <input type="number" id="mowing_duration" name="mowing_duration" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-5">
                                                                <button type="button" class="btn btn-primary" onclick="addMoverEntry()">Add Mower Entry</button>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-12">
                                                                <details>
                                                                    <summary>Mower Entries</summary>
                                                                    <div class="table-responsive transparent-bg">

                                                                    <table class="table table-bordered" id="moverTable">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                <th>Machine Type</th>
                                                                                <th>Machinery</th>
                                                                                <th>Operator</th>
                                                                                <th>Height (mm)</th>
                                                                                <th>Duration</th>
                                                                                <th>Unit</th>
                                                                                <th>Time</th>
                                                                                <th>Date</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>
                                                                    <input type="hidden" name="mover_entries_json" id="mover_entries_json">
                                                                    </div>
                                                                </details>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>

                                            <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert box-bg">
                                                <fieldset>
                                                    <legend class="w-auto px-2">Chemical Entries</legend>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-sm-12 col-lg-3 mt-4">
                                                            <div class="input-group mb-3 rounded">
                                                                <div class="input-group-text bg-light border-0">
                                                                    <input class="form-check-input mt-0 border-left" type="checkbox" id="is_fertilizers_used" name="is_fertilizers_used">
                                                                </div>
                                                                <input type="text" class="form-control border-0" value="Is Fertilizers Used" readonly>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12 col-lg-3">
                                                            <label for="time_of_application_chemical" class="form-label">Time of Application Chemical:</label>
                                                            <div class="d-flex align-items-center justify-content-center">
                                                                <input type="time" id="time_of_application_chemical" name="time_of_application_chemical" class="form-control">
                                                                <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                        <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                        <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                    </svg>
                                                                </button>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12 col-lg-3">
                                                            <label for="fertilizers_details" class="form-label">Chemical Details:</label>
                                                            <select id="fertilizers_details" name="fertilizers_details" class="form-control">
                                                                <option value="">Select Any Chemical</option>
                                                            </select>
                                                        </div>

                                                        <div class="col-sm-12 col-lg-3">
                                                            <label for="chemical_weight" class="form-label">Chemical Weight:</label>
                                                            <input type="text" id="chemical_weight" placeholder="Weight" name="chemical_weight" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-12 col-lg-3">
                                                            <label for="fertilizers_unit" class="form-label">Chemical Unit:</label>
                                                            <select id="fertilizers_unit" name="fertilizers_unit" class="form-control">
                                                                <option value="">Select Any Unit</option>
                                                                <option value="kg">KG</option>
                                                                <option value="gm">GM</option>
                                                                <option value="ltr">Liters</option>
                                                                <option value="ml">Milli Liters</option>
                                                                <option value="NA">NA</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-12 col-lg-4">
                                                            <label for="chemical_details_remark" class="form-label">Chemical Remarks:</label>
                                                            <input type="text" id="chemical_details_remark" placeholder="Remarks" name="chemical_details_remark"  class="form-control">
                                                        </div>
                                                        <div class="col-sm-12 col-lg-4 mt-4">
                                                            <button type="button" class="btn btn-sm btn-primary" id="addChemicalBtn" >+ Add Chemical Entry</button>
                                                        </div>
                                                    </div>

                                                    <details class="transparent-bg">
                                                        <summary>Chemical Entries</summary>
                                                        <div class="table-responsive transparent-bg">
                                                        <table class="table table-bordered mt-3" id="chemicalTable">
                                                            <thead class="table-dark">
                                                                <tr>
                                                                    <th>Used</th>
                                                                    <th>Time</th>
                                                                    <th>Chemical</th>
                                                                    <th>Weight</th>
                                                                    <th>Unit</th>
                                                                    <th>Remark</th>
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody></tbody>
                                                        </table>
                                                        <input type="hidden" name="chemical_entries" id="chemical_entries">
                                                        </div>
                                                    </details>
                                                </fieldset>
                                            </div>

                                            <div class="row form-group gray-box mt-4 text-dark p-3 rounded alert ">
                                                <div class="col-sm-12 col-lg-6 box-bg p-3 rounded">
                                                    <label for="remark_by_groundsman" class="form-label">Remark by Groundsman:</label>
                                                    <textarea id="remark_by_groundsman" placeholder="Pitch Curing Remarks" name="remark_by_groundsman" class="form-control"></textarea>
                                                </div>
                                            </div>
                                          
                                        </div>
                                
                                
                                
                                </div>
                                

                                <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                                    <!-- <div class="form-group border mt-4 text-dark p-3" style="background-color:#7dcfb6">
                                        <legend class="w-auto px-2">Outfield Entries</legend>
                                        <div class="row">
                                            <div class="col-sm-12 col-lg-6">
                                                <fieldset class="form-group border mt-4 text-white p-3" style="background-color:#1d4e89">
                                                    <legend class="w-auto px-2">Watering</legend>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <label for="out_last_watering_on" class="form-label">Watering On:</label>
                                                            <input type="date" id="out_last_watering_on" value="{{match.41}}" name="out_last_watering_on" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <label for="out_time_of_application" class="form-label">Time of Watering:</label>
                                                            <input type="time" id="out_time_of_application" value="{{match.43}}" name="out_time_of_application" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <label for="out_quantity_of_water" class="form-label">Quantity of Water:</label>
                                                            <input type="text" id="out_quantity_of_water" value="{{match.42}}" name="out_quantity_of_water" class="form-control">
                                                        </div>
                                                    </div>
                                                </fieldset>
                                            </div>
                                            <div class="col-sm-12 col-lg-6">
                                                <fieldset class="form-group border mt-4 text-white p-3" style="background-color:#1d4e89">
                                                    <legend class="w-auto px-2">Rolling</legend>
                                                    <div>
                                                        <label for="out_roller_machine_type" class="form-label">Select Machine Type</label>
                                                        <select class="form-select" id="out_roller_machine_type" name="out_roller_machine_type">
                                                            <option selected>Select Type</option>
                                                            <option value="passes">Maunal</option>
                                                            <option value="time">Machenized</option>
                                                        </select>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-12 col-sm-12">
                                                            <label id="out_machinery_id_label"></label>
                                                            <br>
                                                            <label for="out_machinery_id" class="form-label">Select Roller</label>
                                                            <input type="hidden" value="{{match.38}}" name="out_machinery_id" id="out_machinery_id">
                                                            <input type="text" name="out_machinery_name" id="out_machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                                        </div>
                                                        <div class="col-lg-12 col-sm-12 d-flex">
                                                            <button type="button" class="btn btn-dark mt-2 align-self-end" style="font-size:70%" onclick="openMachineryModal('out_roller')">Select Machinery</button>
                                                        </div>
                                                        <label for="out_roller_machinery_name_operator" class="form-label">Operator Name:</label>
                                                        <input type="text" name="out_roller_machinery_name_operator" id="out_roller_machinery_name_operator" class="form-control">
                                                    </div>
                                                    <div class="col-md-12">
                                                        <label for="out_time_of_application" class="form-label">Time of Rolling:</label>
                                                        <input type="time" id="out_time_of_application_roller" value="{{match.44}}" name="out_time_roller" class="form-control">
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <label for="out_rolling_speed" class="form-label">Rolling Speed:</label>
                                                            <input type="number" id="out_rolling_speed" value="{{match.40}}" name="out_rolling_speed" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <label for="out_passes-unit" class="form-label">Select Unit:</label>
                                                            <select class="form-select" id="out_passes_unit" name="out_passes_unit">
                                                                <option selected>Select Unit</option>
                                                                <option value="passes">Passes</option>
                                                                <option value="time">Time</option>
                                                                <option value="hours">Hours</option>
                                                                <option value="minutes">Minutes</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="out_no_of_passes" class="form-label">Number of Passes:</label>
                                                            <input type="number" id="out_no_of_passes" value="{{match.39}}" name="out_no_of_passes" class="form-control">
                                                        </div>
                                                    </div>
                                                </fieldset>
                                            </div>
                                            <div class="col-sm-12 col-lg-4">
                                                <h5 class="mt-4">Rolling Entries</h5>
                                                <table class="table table-bordered" id="outrollingTable" style="font-size: 70%;">
                                                    <thead class="table-dark">
                                                        <tr>
                                                            <th>Machine Type</th>
                                                            <th>Machinery</th>
                                                            <th>Operator</th>
                                                            <th>Speed</th>
                                                            <th>Passes</th>
                                                            <th>Unit</th>
                                                            <th>Time</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <input type="hidden" name="out_rolling_entries_json" id="out_rolling_entries_json">
                                            </div>
                                        </div>
                                        <div class="row mt-4">
                                            <div>
                                                <label for="out_mover_machine_type" class="form-label">Select Machine Type</label>
                                                <select class="form-select" id="out_mover_machine_type" name="out_mover_machine_type">
                                                    <option selected>Select Type</option>
                                                    <option value="passes">Maunal</option>
                                                    <option value="time">Machenized</option>
                                                </select>
                                            </div>
                                            <div class="col-lg-12 col-sm-12">
                                                <label id="out_mover_machinery_id_label"></label>
                                                <br>
                                                <label for="out_mover_machinery_id" class="form-label">Select Machinery/Mover</label>
                                                <input type="hidden" value="{{match.46}}" name="out_mover_machinery_id" id="out_mover_machinery_id">
                                                <input type="text" name="out_mover_machinery_name" id="out_mover_machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                            </div>
                                            <div class="col-lg-12 col-sm-12 d-flex">
                                                <button type="button" class="btn btn-dark mt-2 align-self-end" style="font-size:70%" onclick="openMachineryModal('out_mover')">Select Machinery</button>
                                            </div>
                                            <label for="out_mover_machinery_name_operator" class="form-label">Operator Name:</label>
                                            <input type="text" name="out_mover_machinery_name_operator" id="out_mover_machinery_name_operator" class="form-control">
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label for="out_date_mowing_done_last" class="form-label">Last Mowing Date:</label>
                                                <input type="date" id="out_date_mowing_done_last" value="{{match.47}}" name="out_date_mowing_done_last" class="form-control">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label for="out_time_of_application_mover" class="form-label">Time of Application Mover:</label>
                                                <input type="time" id="out_time_of_application_mover" value="{{match.48}}" name="out_time_of_application_mover" class="form-control">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label for="out_mowing_done_at_mm" class="form-label">Mowing Height (mm):</label>
                                                <input type="number" id="out_mowing_done_at_mm" value="{{match.49}}" name="out_mowing_done_at_mm" class="form-control">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="out_moving_passes_unit" class="form-label">Select Unit:</label>
                                                <select class="form-select" id="out_moving_passes_unit" name="out_moving_passes_unit">
                                                    <option selected>Select Unit</option>
                                                    <option value="time">Time</option>
                                                    <option value="hours">Hours</option>
                                                    <option value="minutes">Minutes</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="out_mowing_duration" class="form-label">Mowing Duration :</label>
                                                <input type="number" id="out_mowing_duration" name="out_mowing_duration" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-sm-12 col-lg-6">
                                            <h5 class="mt-4">Mover Entries</h5>
                                            <table class="table table-bordered" id="outmoverTable" style="font-size: 70%;">
                                                <thead class="table-dark">
                                                    <tr>
                                                        <th>Machine Type</th>
                                                        <th>Machinery</th>
                                                        <th>Operator</th>
                                                        <th>Height (mm)</th>
                                                        <th>Duration</th>
                                                        <th>Unit</th>
                                                        <th>Time</th>
                                                        <th>Date</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                            <input type="hidden" name="out_mover_entries_json" id="out_mover_entries_json">
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-sm-12 col-lg-6">
                                                <div class="input-group mb-3 border rounded">
                                                    <div class="input-group-text bg-light border-0" style="background-color:white !important;">
                                                        <input class="form-check-input mt-0 border-left" type="checkbox" aria-label="Checkbox for following text input" name="out_is_fertilizers_used" {% if match.50 == "1" %}checked{% endif %} id="out_is_fertilizers_used">
                                                    </div>
                                                    <input type="text" class="form-control border-0 mt-2" value="Is Fertilizers Used" style="background-color:white" readonly aria-label="Text input with checkbox">
                                                </div>
                                            </div>
                                            <div class="col-sm-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-sm-12 col-lg-6">
                                                        <label for="out_time_of_application_chemical" class="form-label">Time of Application Chemical:</label>
                                                    </div>
                                                    <div class="col-sm-12 col-lg-6">
                                                        <input type="time" id="out_time_of_application_chemical" name="out_time_of_application_chemical" class="form-control" value="{{match.56}}">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label for="out_fertilizers_details" class="form-label">Chemical Details:</label>
                                                <div class="row">
                                                    <div class="col">
                                                        <select id="out_fertilizers_details" name="out_fertilizers_details" class="form-control">
                                                            <option value="">Select Any Chemical</option>
                                                        </select>
                                                    </div>
                                                    <div class="col">
                                                        <input type="text" id="out_chemical_weight" placeholder="Weight" name="out_chemical_weight" class="form-control" value="{{match.61}}">
                                                    </div>
                                                    <div class="col">
                                                        <select id="out_fertilizers_unit" name="out_fertilizers_unit" class="form-control">
                                                            <option value="">Select Any Unit</option>
                                                            <option value="kg">KG</option>
                                                            <option value="gm">GM</option>
                                                            <option value="ltr">Liters</option>
                                                            <option value="ml">Milli Liters</option>
                                                            <option value="NA">NA</option>
                                                        </select>
                                                    </div>
                                                    <div class="col">
                                                        <input type="text" id="out_chemical_details_remark" placeholder="Remarks" name="out_chemical_details_remark" class="form-control" value="{{match.52}}">
                                                    </div>
                                                </div>
                                                <div class="text-end">
                                                    <button type="button" class="btn btn-sm btn-primary" id="outaddChemicalBtn">+ Add Chemical Entry</button>
                                                </div>
                                                <table class="table table-bordered mt-3" id="outchemicalTable">
                                                    <thead class="table-dark">
                                                        <tr>
                                                            <th>Used</th>
                                                            <th>Time</th>
                                                            <th>Chemical</th>
                                                            <th>Weight</th>
                                                            <th>Unit</th>
                                                            <th>Remark</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <input type="hidden" name="out_chemical_entries" id="out_chemical_entries">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label for="out_remark_by_groundsman" class="form-label">Remark by Groundsman:</label>
                                                <textarea id="out_remark_by_groundsman" placeholder="Remarks" name="out_remark_by_groundsman" class="form-control">{{match.53}}</textarea>
                                            </div>
                                        </div>
                                    </div> -->
                                
                                
                                  <div class="form-group daily-form mt-4 text-dark p-3">
                                            <legend class="w-auto px-2">Outfield Entries</legend>
                                            <div class="row">
                                                <div class="col-sm-12 col-lg-12">
                                                    <fieldset class="form-group border mt-4 text-dark p-3 box-bg rounded">
                                                        <legend class="w-auto px-2">Watering</legend>
                                                        <div class="row">
                                                            <div class="col-sm-12 col-lg-4">
                                                                <label for="out_last_watering_on" class="form-label">Watering On:</label>
                                                                <input type="date" id="out_last_watering_on" name="out_last_watering_on" class="form-control">
                                                            </div>
                                                            <div class="col-sm-12 col-lg-4">
                                                                <label for="out_time_of_application" class="form-label">Time of Watering:</label>
                                                                <div class="d-flex align-items-center justify-content-center">
                                                                    <input type="time" id="out_time_of_application" name="out_time_of_application"  class="form-control">
                                                                    <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-4">
                                                                <label for="out_quantity_of_water" class="form-label">Quantity of Water:</label>
                                                                <input type="text" id="out_quantity_of_water" name="out_quantity_of_water" class="form-control">
                                                            </div>
                                                             <div class="col-sm-12 col-lg-3 my-5">

                            <button type="button" class="btn btn-primary" onclick="addOutWateringEntry()">Add Watering Entry</button>

                                                            </div>
                                                                    <div class="col-sm-12 col-lg-12">
                                                                <details>
                                                                    <summary>Watering Entries</summary>
                                                                      <div class="table-responsive transparent-bg">
                                                                    <table class="table table-bordered mt-2"
                                                                        id="outwateringTable">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                <th>Watering On</th>
                                                                                <th>Time of Watering</th>
                                                                                <th>Quantity of Water</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>

                                                                    <input type="hidden" name="out_watering_entries_json"
                                                                        id="out_watering_entries_json">
                                                                      </div>
                                                                </details>


                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12 col-lg-12">
                                                    <fieldset class="form-group border mt-4 text-dark p-3 box-bg rounded">
                                                        <legend class="w-auto px-2">Rolling</legend>
                                                        <div class="row">
                                                            <div class="col-sm-12 col-lg-2">
                                                                <label for="out_roller_machine_type" class="form-label">Select Machine Type</label>
                                                                <select class="form-select" id="out_roller_machine_type" name="out_roller_machine_type" required>
                                                                    <option selected>Select Type</option>
                                                                    <option value="Manual">Manual</option>
                                                                    <option value="Mechanized">Mechanized</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3 mt-4">
                                                                <input type="hidden" name="out_machinery_id" id="out_machinery_id">
  <div class="input-group">
                                                                <input type="text" name="out_machinery_name" id="out_machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                                                 <span class="input-group-text bg-light" onclick="realoadMachineryList(event)">
                                                                  <i class="bi bi-arrow-clockwise text-danger"></i>
                                                                </span>
                                                                </div>
                                                                <button type="button" class="btn btn-dark mt-2 align-self-end" style="font-size:70%" onclick="openMachineryModal('out_roller')">Select Machinery</button>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3">
                                                                <label for="out_roller_machinery_name_operator" class="form-label">Operator Name:</label>
                                                                <input type="text" name="out_roller_machinery_name_operator" id="out_roller_machinery_name_operator" class="form-control">
                                                            </div>
                                                             <div class="col-sm-12 col-lg-3">
                                                    <label for="out_rolling_date" class="form-label">Date:</label>
                                                    <input type="date" id="out_rolling_date" name="out_rolling_date"
                                                        class="form-control">
                                                </div>
                                                            <div class="col-sm-12 col-lg-2">
                                                                <label for="out_time_roller" class="form-label">Time of Rolling:</label>
                                                                <div class="d-flex align-items-center justify-content-center">
                                                                    <input type="time" id="out_time_roller" name="out_time_roller" class="form-control">
                                                                    <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-2">
                                                                <label for="out_rolling_speed" class="form-label">Rolling Type:</label>
                                                                <input type="text" id="out_rolling_speed" name="out_rolling_speed" class="form-control">
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3 mt-4">
                                                                <label for="out_passes_unit" class="form-label">Select Unit:</label>
                                                                <select class="form-select" id="out_passes_unit" name="out_passes_unit">
                                                                    <option selected>Select Unit</option>
                                                                    <option value="passes">Passes</option>
                                                                    <option value="time">Time</option>
                                                                    <option value="hours">Hours</option>
                                                                    <option value="minutes">Minutes</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-4 mt-4">
                                                                <label for="out_no_of_passes" class="form-label">Number of Passes:</label>
                                                                <input type="text" id="out_no_of_passes" name="out_no_of_passes" class="form-control">
                                                            </div>
                                                            <div class="col-sm-12 col-lg-3 mt-5">
                                                                <button type="button" class="btn btn-primary" onclick="outaddRollingEntry()">Add Rolling Entry</button>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-12">
                                                                <details>
                                                                    <summary>Rolling Entries</summary>
                                                                    <div class="table-responsive transparent-bg">
                                                                    <table class="table table-bordered" id="outrollingTable" style="font-size: 70%;">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                 <th>Date</th>
                                                                                <th>Machine Type</th>
                                                                                <th>Machinery</th>
                                                                                <th>Operator</th>
                                                                                <th>Speed</th>
                                                                                <th>Passes</th>
                                                                                <th>Unit</th>
                                                                                <th>Time</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>
                                                                    <input type="hidden" name="out_rolling_entries_json" id="out_rolling_entries_json">
                                                                    </div>
                                                                </details>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12 col-lg-12">
                                                    <fieldset class="form-group border mt-4 text-dark p-3 box-bg rounded">
                                                        <legend class="w-auto px-2">Mower</legend>
                                                        <div class="row">
                                                            <div class="col-lg-3 col-sm-12">
                                                                <label for="out_mover_machine_type" class="form-label">Select Machine Type</label>
                                                                <select class="form-select" id="out_mover_machine_type" name="out_mover_machine_type" required>
                                                                    <option selected>Select Type</option>
                                                                    <option value="Manual">Manual</option>
                                                                    <option value="Mechanized">Mechanized</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-lg-4 col-sm-12">
                                                                <label for="out_mover_machinery_id" class="form-label">Select Machinery/Mower</label>
                                                                <input type="hidden" name="out_mover_machinery_id" id="out_mover_machinery_id">
                                                                   <div class="input-group">
                                                                <input type="text" name="out_mover_machinery_name" id="out_mover_machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                                                                 <span class="input-group-text bg-light" onclick="realoadMachineryList(event)">
                                                                  <i class="bi bi-arrow-clockwise text-danger"></i>
                                                                </span>
                                                                </div>
                                                                <button type="button" class="btn btn-dark mt-2 align-self-end" style="font-size:70%" onclick="openMachineryModal('out_mover')">Select Machinery</button>
                                                            </div>
                                                            <div class="col-lg-3 col-sm-12">
                                                                <label for="out_mover_machinery_name_operator" class="form-label">Operator Name:</label>
                                                                <input type="text" name="out_mover_machinery_name_operator" id="out_mover_machinery_name_operator" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12">
                                                                <label for="out_date_mowing_done_last" class="form-label">Last Mowing Date:</label>
                                                                <input type="date" id="out_date_mowing_done_last" name="out_date_mowing_done_last" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="out_time_of_application_mover" class="form-label">Time of Application Mower:</label>
                                                                <div class="d-flex align-items-center justify-content-center">
                                                                    <input type="time" id="out_time_of_application_mover" name="out_time_of_application_mover" class="form-control">
                                                                    <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="out_mowing_done_at_mm" class="form-label">Mowing Height (mm):</label>
                                                                <input type="number" id="out_mowing_done_at_mm" name="out_mowing_done_at_mm" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="out_moving_passes_unit" class="form-label">Unit:</label>
                                                                <select class="form-select" id="out_moving_passes_unit" name="out_moving_passes_unit">
                                                                    <option selected>Select Unit</option>
                                                                    <option value="time">Time</option>
                                                                    <option value="hours">Hours</option>
                                                                    <option value="minutes">Minutes</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-4">
                                                                <label for="out_mowing_duration" class="form-label">Duration</label>
                                                                <input type="number" id="out_mowing_duration" name="out_mowing_duration" class="form-control">
                                                            </div>
                                                            <div class="col-lg-2 col-sm-12 mt-5">
                                                                <button type="button" class="btn btn-primary" onclick="outaddMoverEntry()">Add Mower Entry</button>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-12">
                                                                <details>
                                                                    <summary>Mower Entries</summary>
                                                                    <p>
                                                                    <table class="table table-bordered" id="outmoverTable" style="font-size: 70%;">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                <th>Machine Type</th>
                                                                                <th>Machinery</th>
                                                                                <th>Operator</th>
                                                                                <th>Height (mm)</th>
                                                                                <th>Duration</th>
                                                                                <th>Unit</th>
                                                                                <th>Time</th>
                                                                                <th>Date</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>
                                                                    <input type="hidden" name="out_mover_entries_json" id="out_mover_entries_json">
                                                                    </p>
                                                                </details>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                            <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert box-bg">
                                                <fieldset>
                                                    <legend class="w-auto px-2">Chemical Entries</legend>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-sm-12 col-lg-6">
                                                            <div class="input-group mb-3 rounded">
                                                                <div class="input-group-text bg-light border-0">
                                                                    <input class="form-check-input mt-0 border-left" type="checkbox" name="out_is_fertilizers_used" id="out_is_fertilizers_used">
                                                                </div>
                                                                <input type="text" class="form-control border-0" value="Is Fertilizers Used" style="background-color:white" readonly aria-label="Text input with checkbox">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-12 col-lg-6">
                                                            <div class="row">
                                                                <div class="col-sm-12 col-lg-6">
                                                                    <label for="out_time_of_application_chemical" class="form-label">Time of Application Chemical:</label>
                                                                </div>
                                                                <div class="col-sm-12 col-lg-6">
                                                                    <div class="d-flex align-items-center justify-content-center">
                                                                        <input type="time" id="out_time_of_application_chemical" name="out_time_of_application_chemical" class="form-control">
                                                                        <button type="button" class="btn d-flex align-items-center justify-content-center p-0 time-reset" style="width: 38px;">
                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                                                                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                                                                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                                                            </svg>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">
                                                            <label for="out_fertilizers_details" class="form-label">Chemical Details:</label>
                                                            <select id="out_fertilizers_details" name="out_fertilizers_details" class="form-control">
                                                                <option value="">Select Any Chemical</option>
                                                            </select>
                                                        </div>
                                                        <div class="col">
                                                            <label for="out_chemical_weight" class="form-label">Weight:</label>
                                                            <input type="text" id="out_chemical_weight" placeholder="Weight" name="out_chemical_weight" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">
                                                            <label for="out_fertilizers_unit" class="form-label">Unit:</label>
                                                            <select id="out_fertilizers_unit" name="out_fertilizers_unit" class="form-control">
                                                                <option value="">Select Any Unit</option>
                                                                <option value="kg">KG</option>
                                                                <option value="gm">GM</option>
                                                                <option value="ltr">Liters</option>
                                                                <option value="ml">Milli Liters</option>
                                                                <option value="NA">NA</option>
                                                            </select>
                                                        </div>
                                                        <div class="col">
                                                            <label for="out_chemical_details_remark" class="form-label">Remarks:</label>
                                                            <input type="text" id="out_chemical_details_remark" placeholder="Remarks" name="out_chemical_details_remark" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="text-end">
                                                        <button type="button" class="btn btn-sm btn-primary" id="outaddChemicalBtn">+ Add Chemical Entry</button>
                                                    </div>
                                                     <details>
                                                                    <summary>Chemical Entries</summary>
                                                                    <div class="table-responsive transparent-bg">
                                                    <table class="table table-bordered mt-3" id="outchemicalTable">
                                                        <thead class="table-dark">
                                                            <tr>
                                                                <th>Used</th>
                                                                <th>Time</th>
                                                                <th>Chemical</th>
                                                                <th>Weight</th>
                                                                <th>Unit</th>
                                                                <th>Remark</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                    <input type="hidden" name="out_chemical_entries" id="out_chemical_entries">
                                                    </div>
                                                    </details>
                                                </fieldset>
                                            </div>
                                            <!-- <button type="button" class="btn btn-primary my-3" onclick="addOutEntryRow()">Add Outfield Entry</button>

                                            <div id="outEntryContainer"></div> -->
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <label for="out_remark_by_groundsman" class="form-label">Remark by Groundsman:</label>
                                                    <textarea id="out_remark_by_groundsman" placeholder="Pitch Curing Remarks" name="out_remark_by_groundsman" class="form-control"></textarea>
                                                </div>
                                            </div>
                                           
                                        </div>
                                
                                </div>

                            </div>
                            
                            <div class="row">
                                <div class="col-md-12">
                                    <label for="brief_match_pitch_assessment" class="form-label">Brief Assessment of the match pitch:</label>
                                    <textarea placeholder="Brief Assessment of the match pitch" type="text" id="brief_match_pitch_assessment" name="brief_match_pitch_assessment" class="form-control">{{match.54}}</textarea>
                                </div>
                            </div>

                            <div class="col-12 mt-4">
                                <button type="submit" name="btnSubmit" value="update" class="btn btn-primary box-bg">Update</button>
                                <button type="submit" name="btnSubmit" value="save" class="btn btn-primary box-bg">Add New</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
<div class="modal fade transparent-bg" id="machineryModal" tabindex="-1" aria-labelledby="machineryModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered transparent-bg">
            <div class="modal-content box-bg">
                <div class="modal-header">
                    <h5 class="modal-title" id="machineryModalLabel">Select Machinery</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-white grass-bg">
                    <table class="table table-bordered">
                        <thead class="bg-dark text-white">
                            <tr>
                                <th>Equipment Type</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody id="machineryList" class="text-white"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

 <!-- Toast container -->
                        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
                            <div id="myToast" class="toast align-items-center text-white bg-success border-0"
                                role="alert" aria-live="assertive" aria-atomic="true">
                                <div class="d-flex">
                                    <div class="toast-body toast-msg-div">
                                        This is a success toast!
                                    </div>
                                    <button type="button" class="btn-close btn-close-white me-2 m-auto"
                                        data-bs-dismiss="toast"></button>
                                </div>
                            </div>
                        </div>
  
    {% include "admin_user/footertags.html" %}

<script>

  function showToast(msg)
    {
         const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = msg
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();
    }


        function getSplit(val) {
        return val.split("__####__").filter(e => e.trim() !== "");
    }

     function getSplit(val) {
        return val.split("__####__").filter(e => e.trim() !== "");
    }

    function convertYesNo(list) {
        return list.map(item => item.trim() === "1" ? "Yes" : "No");
    }

    async function fertilizerNameById(id) {
        try {
            console.log("Fetching fertilizer ID:", id);
            const response = await fetch("/usr_admin/get_chemical/" + id);
            if (!response.ok) {
                throw new Error("Fertilizer not found");
            }
            const data = await response.json();
            return data.name + " (" + data.type + ")";
        } catch (e) {
            console.error("Error fetching fertilizer ID", id, ":", e);
            return "Unknown Fertilizer";
        }
    }

        function getMachinery(id, label) {
                        axios.get("/usr_admin/machinery/" + id).then((result) => {

                            const m = result.data.machinery
                            $(`#${label}`).text(`ID: ${m.id} Equipment :${m.equipment_name} ${m.print_details}`)
                            $(`#${label}`).addClass("bg-dark text-white p-2")

                        }).catch((error) => {
                            console.log(error)

                        })
                    }

    async function getMachineryName(id) {
        try {
            const response = await axios.get("/usr_admin/machinery/" + id);
            return response.data.machinery.print_details;
        } catch (e) {
            console.log(e);
            return "Unknown";
        }
    }

         // Helper functions for dynamic row generation and data updates (MAIN PITCH)
    let rowIndex = 0; // For main pitch entries
    let rollingEntries = [];
    let moverEntries = [];

    
    let wateringEntries = [];

    function addWateringEntry() {
        const last_watering_on = document.getElementById("last_watering_on").value;
        const time_of_application = document.getElementById("time_of_application").value;
        const quantity_of_water = document.getElementById("quantity_of_water").value;
      

        if (!last_watering_on || !time_of_application || !quantity_of_water) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
            last_watering_on,
            time_of_application,
            quantity_of_water,
           
        };

        wateringEntries.push(entry);
        updateWateringTable();
    }
    
    function delWateringEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        wateringEntries.splice(index, 1);
        updateWateringTable();
    }

    function updateWateringTable() {
        const tableBody = document.querySelector("#wateringTable tbody");
        tableBody.innerHTML = "";

        wateringEntries.forEach(entry => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.last_watering_on}</td>
                <td>${entry.time_of_application}</td>
                <td>${entry.quantity_of_water}</td>
              
                  <td>
                    <button type="button" class='btn btn-danger det-btn' onclick="delWateringEntry(event)">X</button>
                </td>
            `;
            tableBody.appendChild(row);
        });

        document.getElementById("watering_entries_json").value = JSON.stringify(wateringEntries);
        showToast("New Watering entry added successfully!");

    }
   
        async function loadWatering() {
        const last_watering_on = getSplit("{{ match.25|default:'' }}");
        const time_of_application = getSplit("{{ match.27|default:'' }}");
        const quantity_of_water = getSplit("{{ match.26|default:'' }}");

        if (last_watering_on.length > 0) {
            for (let i = 0; i < last_watering_on.length; i++) {
                const entry = {
                    last_watering_on: last_watering_on[i],
                    time_of_application: time_of_application[i],
                    quantity_of_water: quantity_of_water[i],
                  
                };
                wateringEntries.push(entry);
            }
            updateWateringTable();
        }
    }
    loadWatering();


    async function loadRolling() {
        const machineryId = getSplit("{{ match.22|default:'' }}");
        const passes = getSplit("{{ match.23|default:'' }}");
        const speed = getSplit("{{ match.24|default:'' }}");
        const unit = getSplit("{{ match.76|default:'' }}");
        const time = getSplit("{{ match.28|default:'' }}");
        const date = getSplit("{{ match.78|default:'' }}");
      
        const machineType = getSplit("{{ match.72|default:'' }}");
        const operator = getSplit("{{ match.73|default:'' }}");

        const namePromises = machineryId.map(id => getMachineryName(id));
        const names = await Promise.all(namePromises);

        if (machineryId.length > 0) {
            for (let i = 0; i < machineryId.length; i++) {
                const entry = {
                    machineType: machineType[i],
                    machineryId: machineryId[i],
                    operator: operator[i],
                    speed: speed[i],
                    passes: passes[i],
                    unit: unit[i],
                    time: time[i],
                    machineryName: names[i],
                    date: date[i]
                };
                rollingEntries.push(entry);
            }
            updateRollingTable();
        }
    }
    loadRolling();
    
    function delRollingEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        rollingEntries.splice(index, 1);
        updateRollingTable();
    }

    function addRollingEntry() {
        const machineType = document.getElementById("roller_machine_type").value;
        const machineryName = document.getElementById("machinery_name").value;
        const machineryId = document.getElementById("machinery_id").value;
        const operator = document.getElementById("roller_machinery_name_operator").value;
        const speed = document.getElementById("rolling_speed").value;
        const passes = document.getElementById("no_of_passes").value;
        const unit = document.getElementById("passes_unit").value;
        const time = document.getElementById("time_roller").value;
        const date = document.getElementById("rolling_date").value;


      

        if (!machineType || !machineryName || !operator || !speed || !passes || !unit || !time|| !date) {
            alert("Please fill all fields before adding rolling entry.");
            return;
        }

        const entry = {
            machineType,
            machineryId,
            machineryName,
            operator,
            speed,
            passes,
            unit,
            time,
             date
        };
        rollingEntries.push(entry);
        updateRollingTable();
    }

    function updateRollingTable() {
        const tableBody = document.querySelector("#rollingTable tbody");
        tableBody.innerHTML = "";
        rollingEntries.forEach(entry => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.date}</td>
                <td>${entry.machineType}</td>
                <td>${entry.machineryName}</td>
                <td>${entry.operator}</td>
                <td>${entry.speed}</td>
                <td>${entry.passes}</td>
                <td>${entry.unit}</td>
                <td>${entry.time}</td>
                <td>
                    <button type="button" class='btn btn-danger det-btn' onclick="delRollingEntry(event)">X</button>
                </td>
            `;
            tableBody.appendChild(row);
        });
        document.getElementById("rolling_entries_json").value = JSON.stringify(rollingEntries);
        showToast("New Rolling entry added successfully!");
    }

    async function loadMover() {
        const machineryId = getSplit("{{match.30}}");
        const unit = getSplit("{{match.70}}");
        const time = getSplit("{{match.32}}");
        const type = getSplit("{{match.68}}");
        const operator = getSplit("{{match.69}}");
        const date = getSplit("{{match.31}}");
        const mowHeight = getSplit("{{match.33}}");
        const duration = getSplit("{{match.71}}");

        const namePromises = machineryId.map(id => getMachineryName(id));
        const names = await Promise.all(namePromises);

        if (machineryId.length > 0) {
            for (let i = 0; i < machineryId.length; i++) {
                const entry = {
                    type: type[i],
                    machineryId: machineryId[i],
                    machineryName: names[i],
                    operator: operator[i],
                    duration: duration[i],
                    unit: unit[i],
                    time: time[i],
                    mowHeight: mowHeight[i],
                    date: date[i]
                };
                moverEntries.push(entry);
            }
            updateMoverTable();
        }
    }
    loadMover();

    function delMowerEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        moverEntries.splice(index, 1);
        updateMoverTable();
    }

    function addMoverEntry() {
        const type = document.getElementById("mover_machine_type").value;
        const machineryName = document.getElementById("mover_machinery_name").value;
        const machineryId = document.getElementById("mover_machinery_id").value;
        const operator = document.getElementById("mover_machinery_name_operator").value;
        const mowHeight = document.getElementById("mowing_done_at_mm").value;
        const unit = document.getElementById("moving_passes_unit").value;
        const duration = document.getElementById("mowing_duration").value;
        const time = document.getElementById("time_of_application_mover").value;
        const date = document.getElementById("date_mowing_done_last").value;

        if (!type || !machineryName || !operator || !unit || !duration || !time || !date || !mowHeight) {
            alert("Please fill all fields before adding mower entry.");
            return;
        }

        const entry = {
            type,
            machineryId,
            machineryName,
            operator,
            mowHeight,
            unit,
            duration,
            time,
            date
        };
        moverEntries.push(entry);
        updateMoverTable();
    }

    function updateMoverTable() {
        const tbody = document.querySelector("#moverTable tbody");
        tbody.innerHTML = "";
        moverEntries.forEach(e => {
            tbody.innerHTML += `
                <tr>
                    <td>${e.type}</td>
                    <td>${e.machineryName}</td>
                    <td>${e.operator}</td>
                    <td>${e.mowHeight}</td>
                    <td>${e.duration}</td>
                    <td>${e.unit}</td>
                    <td>${e.time}</td>
                    <td>${e.date}</td>
                      <td>
                    <button type="button" class='btn btn-danger det-btn' onclick="delMowerEntry(event)">X</button>
                </td>
                </tr>
            `;
        });
        document.getElementById("mover_entries_json").value = JSON.stringify(moverEntries);
        showToast("New Mower entry added successfully!");

    }

 
  let chemicalEntries = [];

    async function loadChemicalData() {
        
        const timeList = getSplit("{{ match.55|default:'' }}");
        const weightList = getSplit("{{ match.59|default:'' }}");
        const unitList = getSplit("{{ match.60|default:'' }}");
        const remarkList = getSplit("{{ match.36|default:'' }}");
        const usedListRaw = getSplit("{{ match.34|default:'' }}");
        const usedList = convertYesNo(usedListRaw);
        const chemicalList = getSplit("{{ match.35|default:'' }}");

        const fertilizerPromises = chemicalList.map(id => fertilizerNameById(id));
        const fertilizerNames = await Promise.all(fertilizerPromises);

        const tableBody = document.querySelector("#chemicalTable tbody");
        tableBody.innerHTML = "";

        const maxLength = Math.max(
            timeList.length,
            fertilizerNames.length,
            weightList.length,
            unitList.length,
            remarkList.length,
            usedList.length
        );

          if(usedList[0]=="Yes")
    {


        if (maxLength > 0) {
            for (let i = 0; i < maxLength; i++) {
                const entry = {
                    time: timeList[i],
                    weight: weightList[i],
                    unit: unitList[i],
                    remark: remarkList[i],
                    used: usedList[0],
                    chem: chemicalList[i],
                    chemName: fertilizerNames[i]
                   
                };
                chemicalEntries.push(entry);
            }
        }
   
            updateChemicalData();
    }

       
       
    }
    loadChemicalData();

    function delChemicalEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        chemicalEntries.splice(index, 1);
        updateChemicalData();
    }

 
    document.getElementById("addChemicalBtn").addEventListener("click", function () {
        
        const used = document.getElementById("is_fertilizers_used").checked ? "Yes" : "No";
        const time = document.getElementById("time_of_application_chemical").value;
        const chem = document.getElementById("fertilizers_details").selectedOptions[0].value;
        const chemName = document.getElementById("fertilizers_details").selectedOptions[0].text;
        const weight = document.getElementById("chemical_weight").value;
        const unit = document.getElementById("fertilizers_unit").value;
        const remark = document.getElementById("chemical_details_remark").value;

        // if (!chemical || !time) {
        //   alert("Please fill required fields: Chemical and Time.");
        //   return;
        // }
  if (!used || !time || !chem || !unit || !weight || !remark) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
           used , time ,chem ,unit ,weight ,remark,chemName
        };

        chemicalEntries.push(entry);
        updateChemicalData();
       

      
    });



    function updateChemicalData() {
         const tableBody = document.querySelector("table#chemicalTable tbody");
         tableBody.innerHTML = "";
         
         chemicalEntries.forEach(e => {
            const row = document.createElement("tr");
          
        row.innerHTML = `
      <td>${e.used}</td>
      <td>${e.time}</td>
      <td>${e.chemName}</td>
      <td>${e.weight}</td>
      <td>${e.unit}</td>
      <td>${e.remark}</td>
                <td><button type="button" class="btn btn-sm btn-danger delete-row" onclick="delChemicalEntry(event)">X</button></td>

                `;
                tableBody.appendChild(row);
        })
      
        document.getElementById("chemical_entries").value = JSON.stringify(chemicalEntries);
        showToast("New Chemical entry added successfully!");

    }

   
</script>


<script>
        // Helper functions for dynamic row generation and data updates (OUTFIELD)
    let outIndex = 0; // For outfield entries
    let outrollingEntries = [];
    let outmoverEntries = [];
    let outwateringEntries = [];

    function addOutWateringEntry() {
        const last_watering_on = document.getElementById("out_last_watering_on").value;
        const time_of_application = document.getElementById("out_time_of_application").value;
        const quantity_of_water = document.getElementById("out_quantity_of_water").value;
      

        if (!last_watering_on || !time_of_application || !quantity_of_water) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
            last_watering_on,
            time_of_application,
            quantity_of_water,
           
        };

        outwateringEntries.push(entry);
        outupdateWateringTable();
    }
    
    function outdelWateringEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        outwateringEntries.splice(index, 1);
        outupdateWateringTable();
    }

    function outupdateWateringTable() {
        const tableBody = document.querySelector("#outwateringTable tbody");
        tableBody.innerHTML = "";

        outwateringEntries.forEach(entry => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.last_watering_on}</td>
                <td>${entry.time_of_application}</td>
                <td>${entry.quantity_of_water}</td>
              
                  <td>
                    <button type="button" class='btn btn-danger det-btn' onclick="outdelWateringEntry(event)">X</button>
                </td>
            `;
            tableBody.appendChild(row);
        });

        document.getElementById("out_watering_entries_json").value = JSON.stringify(outwateringEntries);
        showToast("New Watering entry added successfully!");

    }
   
    async function outloadWatering() {
        // alert("here");
        const last_watering_on = getSplit("{{ match.41|default:'' }}");
        const time_of_application = getSplit("{{ match.43|default:'' }}");
        const quantity_of_water = getSplit("{{ match.42|default:'' }}");

        if (last_watering_on.length > 0) {
            for (let i = 0; i < last_watering_on.length; i++) {
                const entry = {
                    last_watering_on: last_watering_on[i],
                    time_of_application: time_of_application[i],
                    quantity_of_water: quantity_of_water[i],
                  
                };
                outwateringEntries.push(entry);
            }
            outupdateWateringTable();
        }
    }
   
    outloadWatering();



    async function outloadRolling() {
        const machineryId = getSplit("{{match.38}}");
        const passes = getSplit("{{match.39}}");
        const speed = getSplit("{{match.40}}");
        const unit = getSplit("{{match.77}}");
        const time = getSplit("{{match.44}}");
        const machineType = getSplit("{{match.74}}");
        const operator = getSplit("{{match.75}}");
        const date = getSplit("{{match.79}}");

        const namePromises = machineryId.map(id => getMachineryName(id));
        const names = await Promise.all(namePromises);

        if (machineryId.length > 0) {
            for (let i = 0; i < machineryId.length; i++) {
                const entry = {
                    machineType: machineType[i],
                    machineryId: machineryId[i],
                    operator: operator[i],
                    speed: speed[i],
                    passes: passes[i],
                    unit: unit[i],
                    time: time[i],
                    machineryName: names[i],
                    date:date[i]

                };
                outrollingEntries.push(entry);
            }
            outupdateRollingTable();
        }
    }
    outloadRolling();

    function outaddRollingEntry() {
        const machineType = document.getElementById("out_roller_machine_type").value;
        const machineryName = document.getElementById("out_machinery_name").value;
        const machineryId = document.getElementById("out_machinery_id").value;
        const operator = document.getElementById("out_roller_machinery_name_operator").value;
        const speed = document.getElementById("out_rolling_speed").value;
        const passes = document.getElementById("out_no_of_passes").value;
        const unit = document.getElementById("out_passes_unit").value;
        const time = document.getElementById("out_time_roller").value;
          const date = document.getElementById("out_rolling_date").value;

        if (!machineType || !machineryName || !operator || !speed || !passes || !unit || !time || !date ) {
            alert("Please fill all fields before adding rolling entry for outfield.");
            return;
        }

        const entry = {
            machineType,
            machineryId,
            machineryName,
            operator,
            speed,
            passes,
            unit,
            time,
            date
        };
        outrollingEntries.push(entry);
        outupdateRollingTable();
    }

    function outDelRollingEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        outrollingEntries.splice(index, 1);
        outupdateRollingTable();
    }
  
    function outupdateRollingTable() {
        const tableBody = document.querySelector("#outrollingTable tbody");
        tableBody.innerHTML = "";
        outrollingEntries.forEach(entry => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.date}</td>
                <td>${entry.machineType}</td>
                <td>${entry.machineryName}</td>
                <td>${entry.operator}</td>
                <td>${entry.speed}</td>
                <td>${entry.passes}</td>
                <td>${entry.unit}</td>
                <td>${entry.time}</td>
                   <td>
                    <button type="button" class='btn btn-danger det-btn' onclick="outDelRollingEntry(event)">X</button>
                </td>
            `;
            tableBody.appendChild(row);
        });
        document.getElementById("out_rolling_entries_json").value = JSON.stringify(outrollingEntries);
        showToast("New Rolling entry added successfully!");

    }

    async function outloadMover() {
        const machineryId = getSplit("{{match.46}}");
        const unit = getSplit("{{match.66}}");
        const time = getSplit("{{match.48}}");
        const type = getSplit("{{match.64}}");
        const operator = getSplit("{{match.65}}");
        const date = getSplit("{{match.47}}");
        const mowHeight = getSplit("{{match.49}}");
        const duration = getSplit("{{match.65}}");

        const namePromises = machineryId.map(id => getMachineryName(id));
        const names = await Promise.all(namePromises);

        if (machineryId.length > 0) {
            for (let i = 0; i < machineryId.length; i++) {
                const entry = {
                    type: type[i],
                    machineryId: machineryId[i],
                    machineryName: names[i],
                    operator: operator[i],
                    duration: duration[i],
                    unit: unit[i],
                    time: time[i],
                    mowHeight: mowHeight[i],
                    date: date[i]
                };
                outmoverEntries.push(entry);
            }
            outupdateMoverTable();
        }
    }
    outloadMover();

    function outaddMoverEntry() {
        const type = document.getElementById("out_mover_machine_type").value;
        const machineryName = document.getElementById("out_mover_machinery_name").value;
        const machineryId = document.getElementById("out_mover_machinery_id").value;
        const operator = document.getElementById("out_mover_machinery_name_operator").value;
        const mowHeight = document.getElementById("out_mowing_done_at_mm").value;
        const unit = document.getElementById("out_moving_passes_unit").value;
        const duration = document.getElementById("out_mowing_duration").value;
        const time = document.getElementById("out_time_of_application_mover").value;
        const date = document.getElementById("out_date_mowing_done_last").value;

        if (!type || !machineryName || !operator || !unit || !duration || !time || !date || !mowHeight) {
            alert("Please fill all fields before adding mower entry for outfield.");
            return;
        }

        const entry = {
            type,
            machineryId,
            machineryName,
            operator,
            mowHeight,
            unit,
            duration,
            time,
            date
        };
        outmoverEntries.push(entry);
        outupdateMoverTable();
    }

    function outDelMowerEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        outmoverEntries.splice(index, 1);
        outupdateMoverTable();
    }


    function outupdateMoverTable() {
        const tbody = document.querySelector("#outmoverTable tbody");
        tbody.innerHTML = "";
        outmoverEntries.forEach(e => {
            tbody.innerHTML += `
                <tr>
                    <td>${e.type}</td>
                    <td>${e.machineryName}</td>
                    <td>${e.operator}</td>
                    <td>${e.mowHeight}</td>
                    <td>${e.duration}</td>
                    <td>${e.unit}</td>
                    <td>${e.time}</td>
                    <td>${e.date}</td>
                     <td>
                    <button type="button" class='btn btn-danger det-btn' onclick="outDelMowerEntry(event)">X</button>
                </td>
                </tr>
            `;
        });
        document.getElementById("out_mover_entries_json").value = JSON.stringify(outmoverEntries);
        showToast("New Mower entry added successfully!");

    }

    const outChemicalEntries=[]
    async function loadOutChemicalData() {
        const usedList = getSplit("{{ match.50|default:'' }}").map(v => v === "1" ? "Yes" : "No");
        const timeList = getSplit("{{ match.56|default:'' }}");
        const chemicalIdList = getSplit("{{ match.51|default:'' }}");
        const weightList = getSplit("{{ match.61|default:'' }}");
        const unitList = getSplit("{{ match.62|default:'' }}");
        const remarkList = getSplit("{{ match.52|default:'' }}");

        const chemNamePromises = chemicalIdList.map(id => fertilizerNameById(id));
        const chemicalNames = await Promise.all(chemNamePromises);

        const tableBody = document.querySelector("#outchemicalTable tbody");
        tableBody.innerHTML = "";

        const maxLength = Math.max(
            timeList.length,
            chemicalNames.length,
            weightList.length,
            unitList.length,
            remarkList.length,
            usedList.length
        );
  if(usedList[0]=="Yes")
    {

        if (maxLength > 0) {
            for (let i = 0; i < maxLength; i++) {
                const entry = {
                    time: timeList[i],
                    weight: weightList[i],
                    unit: unitList[i],
                    remark: remarkList[i],
                    used: usedList[0],
                    chemical: chemicalIdList[i],
                    chemicalName: chemicalNames[i]
                   
                };
                outChemicalEntries.push(entry);
            }
        }
        updateOutChemicalData();
    }
    }
    loadOutChemicalData();

  function outDelChemicalEntry(event) {
        const row = event.target.closest("tr");
        const index = Array.from(row.parentNode.children).indexOf(row);
        outChemicalEntries.splice(index, 1);
        updateOutChemicalData();
    }

    
    document.getElementById("outaddChemicalBtn").addEventListener("click", function () {
        const used = document.getElementById("out_is_fertilizers_used").checked ? "Yes" : "No";
        const time = document.getElementById("out_time_of_application_chemical").value;
        const chemical = document.getElementById("out_fertilizers_details").selectedOptions[0].value;
        const chemicalName = document.getElementById("out_fertilizers_details").selectedOptions[0].text;
        const weight = document.getElementById("out_chemical_weight").value;
        const unit = document.getElementById("out_fertilizers_unit").value;
        const remark = document.getElementById("out_chemical_details_remark").value;

        if (!used || !time || !chemical || !unit || !weight || !remark) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
           used , time ,unit ,weight ,remark,chemicalName,chemical
        };

        outChemicalEntries.push(entry);

        updateOutChemicalData();
    });

    function updateOutChemicalData() {
        const tableBody = document.querySelector("#outchemicalTable tbody");
         tableBody.innerHTML = "";
         
         outChemicalEntries.forEach(e => {
            const row = document.createElement("tr");
          
        row.innerHTML = `
      <td>${e.used}</td>
      <td>${e.time}</td>
      <td>${e.chemicalName}</td>
      <td>${e.weight}</td>
      <td>${e.unit}</td>
      <td>${e.remark}</td>
                <td><button type="button" class="btn btn-sm btn-danger delete-row" onclick="outDelChemicalEntry(event)">X</button></td>

                `;
                tableBody.appendChild(row);
        })
        document.getElementById("out_chemical_entries").value = JSON.stringify(outChemicalEntries);
        showToast("New Chemical entry added successfully!");

    }

    
</script>

<script>
        function toggleFields() {
            var matchType = document.getElementById('match_type').value;
            if (matchType === 'Multidays') {
                document.getElementById('from_date').style.display = "block";
                document.getElementById('to_date').style.display = "block";
                document.getElementById('match_date').style.display = "none"
                $(document).ready(function () {
                    $("#to-date-div").css("display", "block")
                    $("#from-date-div").css("display", "block")
                    $("#match-date-div").css("display", "none")
                })
                document.getElementById('from_date').disabled = false;
                document.getElementById('to_date').disabled = false;
                document.getElementById('match_date').disabled = true;
            } else {
                $(document).ready(function () {

                    $("#days_count").val("1")
                    $("#from_date").val("")
                    $("#to_date").val("")
                    $("#to-date-div").css("display", "none")
                    $("#from-date-div").css("display", "none")
                    $("#match-date-div").css("display", "block")
                })
                document.getElementById('from_date').style.display = "none";
                document.getElementById('to_date').style.display = "none";
                document.getElementById('match_date').style.display = "block";
                document.getElementById('from_date').disabled = true;
                document.getElementById('to_date').disabled = true;
                document.getElementById('match_date').disabled = false;
            }
        }

        function toggleRollerOptions() {
            var rollerType = document.getElementById('roller_type').value;
            if (rollerType === 'manually') {
                document.getElementById('roller_weight_div').style.display = 'block';
            } else {
                document.getElementById('roller_weight_div').style.display = 'none';
            }
        }
</script>

    <!-- Axios CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>



        $(document).ready(function () {
            axios.get("/usr_admin/get_grounds").then((result) => {
                $("#ground_id").html("")
                $("#ground_id").append(`<option value=''>Select Ground</option>`)
                //                $("#ground_id").append(`<option value='all'>All Grounds</option>`)

                result.data.grounds.forEach(function (g) {
                    $("#ground_id").append(`<option value='${g.ground[0]}'>${g.ground[6]}</option>`)
                })

            }).catch((error) => {
                console.log(error)

            })


            function getMachinery(id, label) {
                axios.get("/usr_admin/machinery/" + id).then((result) => {

                    const m = result.data.machinery
                    $(`#${label}`).text(`ID: ${m.id} Equipment :${m.equipment_name} ${m.print_details}`)
                    $(`#${label}`).addClass("bg-dark text-white p-2")



                }).catch((error) => {
                    console.log(error)

                })
            }

           

            // getMachinery("{{match.22}}", "machinery_id_label")
            // getMachinery("{{match.30}}", "mover_machinery_id_label")
            // getMachinery("{{match.38}}", "out_machinery_id_label")
            // getMachinery("{{match.46}}", "out_mover_machinery_id_label")

            // Function to calculate the difference in days between two dates
            function calculateDays() {

                var fromDate = $('#from_date').val();
                var toDate = $('#to_date').val();

                // Ensure both dates are selected
                if (fromDate && toDate) {
                    var from = new Date(fromDate);
                    var to = new Date(toDate);

                    // Calculate the difference in milliseconds and convert to days
                    var timeDiff = to - from;
                    var daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;  // +1 to include the start date

                    // Update the days_count field with the calculated days
                    $('#days_count').val(daysDiff);
                } else {
                    // Reset to default if dates are not selected
                    $('#days_count').val(1);
                }
            }

            // Trigger calculation on date change
            $('#from_date, #to_date').on('change', calculateDays);
        })

        $("#out_is_fertilizers_used").change(function () {
            if ($(this).prop("checked") === true) {
                $("#out_fertilizers_details").prop("required", true)
            }
            else {
                $("#out_fertilizers_details").prop("required", false)
            }


        });
        $("#is_fertilizers_used").change(function () {
            if ($(this).prop("checked") === true) {
                $("#fertilizers_details").prop("required", true)
            }
            else {
                $("#fertilizers_details").prop("required", false)
            }


        });


        function addChemicalsToSelect(fertilizers, select) {
            fertilizers.forEach(function (fert) {
                const option = document.createElement("option");
                option.value = fert.id;
                option.textContent = `${fert.name} (${fert.type})`;
                select.appendChild(option);
            });
        }

        axios.get('/usr_admin/get-fertilizers-json/')
            .then(function (response) {
                const fertilizers = response.data.fertilizers;
                const select = document.getElementById("fertilizers_details");
                // const ppSelect = document.getElementById("pp_fertilizers_details");
                const outSelect = document.getElementById("out_fertilizers_details");
                // const practiceSelect = document.getElementById("practice_fertilizers_details");
                addChemicalsToSelect(fertilizers, select)
                // addChemicalsToSelect(fertilizers, ppSelect)
                addChemicalsToSelect(fertilizers, outSelect)
                // addChemicalsToSelect(fertilizers, practiceSelect)

            })
            .catch(function (error) {
                console.error("Error fetching fertilizers:", error);
            });



        $("#ground_id").change(function () {
            const groundId = $(this).val().trim()
            $("#ground_id_text").val(groundId)
            if (groundId == "all") {
                axios.get(`/usr_admin/get_all_pitches`).then((result) => {
                    // console.log(result.data.grounds)
                    $("#pitch_id").html("")
                    $("#pitch_id").append(`<option value=''>Select Pitch</option>`)
                    //                    $("#pitch_id").append(`<option value='all'>All Pitches</option>`)

                    result.data.grounds.forEach(function (p) {
                        $("#pitch_id").append(`<option value='${p.pitches[0]}'>${p.pitches[14]}  ${p.pitches[5]}</option>`)
                    })
                }).catch((error) => {
                    console.log(error)

                })
            } else {
                axios.get(`/usr_admin/get_pitches/${groundId}`).then((result) => {
                    console.log(result.data.grounds)
                    $("#pitch_id").html("")
                    $("#pitch_id").append(`<option value=''>Select Pitch</option>`)
                    //                    $("#pitch_id").append(`<option value='all'>All Pitches</option>`)

                    result.data.grounds.forEach(function (p) {
                        $("#pitch_id").append(`<option value='${p.pitch[0]}'>${p.pitch[14]}  ${p.pitch[5]}</option>`)
                    })
                }).catch((error) => {
                    console.log(error)

                })
            }

        })

        $("#pitch_id").change(function () {


            const pitchId = $(this).val().trim()
            const groundId = $("#ground_id").val().trim()

            $("#pitch_id_text").val(pitchId)
            $("#ground_id_text").val(groundId)

            if (pitchId !== "all") {

                axios.get(`/usr_admin/get_pitch/${pitchId}`).then((result) => {
                    const pitch = result.data.grounds[0].pitch

                    console.log(pitch)
                    $("#pitch_location").prop("disabled", false)
                    $("#pitch_location").prop("readonly", true)
                    $("#pitch_location").val(pitch[1])

                }).catch((error) => {
                    console.log(error)

                })
            } else if (pitchId === "all") {
                $("#pitch_location").prop("disabled", true)
            }
        })



    </script>





<script>
    $(document).ready(function () {

        $("#match_type").val("{{match.1}}")
        $("#fertilizers_details").val("{{match.35|default:''}}")
        $("#out_fertilizers_details").val("{{match.51|default:''}}")

        // $("#fertilizers_unit").val("{{match.60|default:''}}")
        // $("#out_fertilizers_unit").val("{{match.62|default:''}}")



        axios.get(`/usr_admin/get_pitch/{{match.11}}`).then((result) => {
                            const pitch = result.data.grounds[0].pitch
        
                            // console.log(pitch)
                            if(pitch[4]=="0")
                            {
                                $("#pitch_id_label").html("Pitch type="+pitch[5]+" Location="+pitch[14])

                            }
                            else
                            {
                                $("#pitch_id_label").html("pitch no="+pitch[4]+" pitch location="+pitch[14]+" "+pitch[5])
                            }
                           
        
                        }).catch((error) => {
                            console.log(error)
        
                        })


                        axios.get(`/usr_admin/get_ground/{{match.12}}`).then((result) => {
                            const ground = result.data.ground
        
                            // console.log(pitch)
                          
                                $("#ground_id_label").html(ground[6])

                           
                            
                           
        
                        }).catch((error) => {
                            console.log(error)
        
                        })
    })
</script>

